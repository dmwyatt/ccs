# CCS (Cursor Conversation Search) - Agent Rules

## Tool Purpose
Access and search past Cursor conversations stored locally. Use when user references previous work or needs conversation history.

## Core Commands
- `ccs list --since "3d"` - List recent conversations
- `ccs search "keyword" --since "1w"` - Search by content
- `ccs show "title" --since "3d"` - Show specific conversation
- `ccs export "title" --format markdown` - Export conversation

## Time Filters (Use These!)
- Recent work: `--since "3d"` (last 3 days)
- Today: `--since "1d"`
- This week: `--since "1w"`
- Last hour: `--since "1h"`

Format: `15m`, `4h`, `3d`, `1w`, `2mo` (abbreviated preferred)

## When to Use
✓ User asks "what did we discuss about X?"
✓ User mentions previous work on a topic
✓ Looking for past solutions to similar problems
✓ User wants to export/save a conversation
✓ Investigating recent work history

## Best Practices
1. **Use time filters** - Narrows results, reduces ambiguity
2. **Search before show** - Find conversation first if title unknown
3. **Be specific** - More specific queries = better matches
4. **Offer, don't dump** - Ask before showing full conversations
5. **Summarize first** - Give overview before details

## Handling Multiple Matches
If tool says "Multiple conversations match":
- Add more specific terms to query
- Use narrower time filter: `--since "3d"`
- Ask user which conversation they meant

## Common Patterns
```bash
# User: "What did we work on with the API yesterday?"
ccs search "api" --since "2d"
ccs show "api implementation" --since "2d"

# User: "Export our authentication discussion"
ccs export "authentication" --since "1w" --format markdown

# User: "What have I been working on this week?"
ccs list --since "1w" --limit 10
```

## Query Tips
- Conversations have titles (auto-generated by Cursor)
- Use distinctive words from the topic
- Fuzzy matching works: "auth" matches "authentication setup"
- Time filters help with ambiguous titles
- IDs are precise but use titles when possible

## Output Formats
- `--format text` (default) - For agent review
- `--format json` - For programmatic parsing
- `--format markdown` - For export/sharing

## Remember
- Time filters are your friend (use them liberally)
- `--since` is inclusive, `--before` is exclusive
- Conversations are read-only (cannot modify)
- All times are local to the system
